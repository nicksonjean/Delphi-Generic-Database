unit Unit1;

interface

uses
  System.SysUtils,
  System.Types,
  System.UITypes,
  System.Classes,
  System.Variants,
  System.Rtti,
  System.Bindings.Outputs,

  FMX.Types,
  FMX.Controls,
  FMX.Forms,
  FMX.Graphics,
  FMX.Dialogs,
  FMX.Controls.Presentation,
  FMX.StdCtrls,
  FMX.TabControl,
  FMX.Bind.Editors,
  FMX.Grid.Style,
  FMX.ScrollBox,
  FMX.Grid,
  FMX.Bind.DBEngExt,
  FMX.Bind.Grid,
  FMX.ExtCtrls,
  FMX.ListBox,
  FMX.Layouts,

  ArrayAssoc,
  SQLConnection;

type
  TForm1 = class(TForm)
    ButSQLite: TButton;
    ButMySQL: TButton;
    ButPostgreSQL: TButton;
    ButFirebird: TButton;
    TabControl1: TTabControl;
    TabSQLite: TTabItem;
    GridSQLite: TGrid;
    TabFirebird: TTabItem;
    GridFirebird: TGrid;
    TabMySQL: TTabItem;
    GridMySQL: TGrid;
    TabPostgreSQL: TTabItem;
    GridPostgreSQL: TGrid;
    ComboBoxSQLite: TComboBox;
    ComboBoxFirebird: TComboBox;
    ComboBoxMySQL: TComboBox;
    ComboBoxPostgreSQL: TComboBox;
    ListBoxSQLite: TListBox;
    ListBoxFirebird: TListBox;
    ListBoxMySQL: TListBox;
    ListBoxPostgreSQL: TListBox;
    ButInsert: TButton;
    ButUpdate: TButton;
    ButDelete: TButton;
    ButReplace: TButton;
    ButUpsert: TButton;
    ToStr: TButton;
    ButFetch: TButton;
    procedure ButSQLiteClick(Sender: TObject);
    procedure ButMySQLClick(Sender: TObject);
    procedure ButPostgreSQLClick(Sender: TObject);
    procedure ButFirebirdClick(Sender: TObject);
    procedure FormCreate(Sender: TObject);
    procedure ButInsertClick(Sender: TObject);
    procedure ButUpdateClick(Sender: TObject);
    procedure ButDeleteClick(Sender: TObject);
    procedure ButReplaceClick(Sender: TObject);
    procedure ButUpsertClick(Sender: TObject);
    procedure ToStrClick(Sender: TObject);
    procedure ButFetchClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form1: TForm1;
  DB: TConnection;

implementation

{$R *.fmx}

procedure TForm1.ButSQLiteClick(Sender: TObject);
var
  DBSQLite : TConnection;
  Query: TQueryBuilder;
  SQL: TQuery;
begin
  DBSQLite := TConnection.Create;
  //DBSQLite := TConnectionClass.GetInstance();
  try
    DBSQLite.Driver := SQLITE;
    DBSQLite.Database :=
    {$IFDEF MSWINDOWS}
      ExtractFilePath(ParamStr(0)) + 'DB.SQLITE';
    {$ELSE}
      TPath.Combine(TPath.GetDocumentsPath, 'DB.SQLITE');
    {$ENDIF}

    if not DBSQLite.GetInstance.Connection.Connected then
      DBSQLite.GetInstance.Connection.Connected := True;

    SQL := TQuery.Create;
    try
      SQL := Query.View('SELECT * FROM logradouro');
      SQL.toGrid(GridSQLite);
      SQL.toComboBox(ComboBoxSQLite, 'id', 'nome');
      SQL.toListBox(ListBoxSQLite, 'id', 'nome');
      //ShowMessage(SQL.Query.RecordCount.ToString);
    finally
      SQL.Free;
    end;

  finally
    DBSQLite.Free;
  end;
end;

procedure TForm1.ButFetchClick(Sender: TObject);
var
  Dados1 : TArray;
  Query1: TQueryBuilder;
  Dados2 : TArrayVariant;
  Query2: TQueryBuilder;
begin
  Dados1 := TArray.Create;
  Dados1.Clear;
  Query1.Fetch('SELECT * FROM app_empresa', Dados1);
  showmessage(Dados1['arquivo_imagem_raw']);

  Dados2 := TArrayVariant.Create;
  Dados2.Clear;
  Query2.Fetch('SELECT * FROM app_empresa', Dados2);
  showmessage(Dados2['arquivo_imagem_raw']);
end;

procedure TForm1.ToStrClick(Sender: TObject);
var
  Dados1 : TArray;
  Query1: TQueryBuilder;
  SQL1: TQuery;

  Dados2 : TArrayVariant;
  Query2: TQueryBuilder;
  SQL2: TQuery;
begin
  SQL1 := Query1.View('SELECT * FROM app_empresa');
  Dados1 := TArray.Create;
  Dados1.Clear;
  Dados1['id'] := SQL1.Query.FieldByName('id').Value;
  Dados1['tipo_pessoa'] := SQL1.Query.FieldByName('tipo_pessoa').Value;
  Dados1['tipo_documento'] := SQL1.Query.FieldByName('tipo_documento').Value;
  Dados1['tipo_estabelecimento'] := SQL1.Query.FieldByName('tipo_estabelecimento').Value;
  Dados1['regime_tributario'] := SQL1.Query.FieldByName('regime_tributario').Value;
  Dados1['documento_cadastral'] := SQL1.Query.FieldByName('documento_cadastral').Value;
  Dados1['inscricao_estadual'] := SQL1.Query.FieldByName('inscricao_estadual').Value;
  Dados1['inscricao_municipal'] := SQL1.Query.FieldByName('inscricao_municipal').Value;
  Dados1['razao_social'] := SQL1.Query.FieldByName('razao_social').Value;
  Dados1['nome_fantasia'] := SQL1.Query.FieldByName('nome_fantasia').Value;
  Dados1['cnae_principal_id'] := SQL1.Query.FieldByName('cnae_principal_id').Value;
  Dados1['arquivo_imagem_url'] := SQL1.Query.FieldByName('arquivo_imagem_url').Value;
  Dados1['arquivo_imagem_raw'] := SQL1.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados1['endereco'] := SQL1.Query.FieldByName('endereco').Value;
  Dados1['contato'] := SQL1.Query.FieldByName('contato').Value;
  Dados1['email'] := SQL1.Query.FieldByName('email').Value;
  Dados1['sincronizado'] := SQL1.Query.FieldByName('sincronizado').Value;
  Dados1['data_insercao'] := SQL1.Query.FieldByName('data_insercao').Value;
  Dados1['data_edicao'] := SQL1.Query.FieldByName('data_edicao').Value;
  Showmessage(Dados1.ToFilter);

  SQL2 := Query2.View('SELECT * FROM app_empresa');
  Dados2 := TArrayVariant.Create;
  Dados2.Clear;
  Dados2['id'] := SQL2.Query.FieldByName('id').Value;
  Dados2['tipo_pessoa'] := SQL2.Query.FieldByName('tipo_pessoa').Value;
  Dados2['tipo_documento'] := SQL2.Query.FieldByName('tipo_documento').Value;
  Dados2['tipo_estabelecimento'] := SQL2.Query.FieldByName('tipo_estabelecimento').Value;
  Dados2['regime_tributario'] := SQL2.Query.FieldByName('regime_tributario').Value;
  Dados2['documento_cadastral'] := SQL2.Query.FieldByName('documento_cadastral').Value;
  Dados2['inscricao_estadual'] := SQL2.Query.FieldByName('inscricao_estadual').Value;
  Dados2['inscricao_municipal'] := SQL2.Query.FieldByName('inscricao_municipal').Value;
  Dados2['razao_social'] := SQL2.Query.FieldByName('razao_social').Value;
  Dados2['nome_fantasia'] := SQL2.Query.FieldByName('nome_fantasia').Value;
  Dados2['cnae_principal_id'] := SQL2.Query.FieldByName('cnae_principal_id').Value;
  Dados2['arquivo_imagem_url'] := SQL2.Query.FieldByName('arquivo_imagem_url').Value;
  Dados2['arquivo_imagem_raw'] := SQL2.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados2['endereco'] := SQL2.Query.FieldByName('endereco').Value;
  Dados2['contato'] := SQL2.Query.FieldByName('contato').Value;
  Dados2['email'] := SQL2.Query.FieldByName('email').Value;
  Dados2['sincronizado'] := SQL2.Query.FieldByName('sincronizado').Value;
  Dados2['data_insercao'] := SQL2.Query.FieldByName('data_insercao').Value;
  Dados2['data_edicao'] := SQL2.Query.FieldByName('data_edicao').Value;
  Showmessage(Dados2.ToFilter);
end;

procedure TForm1.ButUpsertClick(Sender: TObject);
var
  Dados1 : TArray;
  Query1: TQueryBuilder;
  SQL1: TQuery;

  Dados2 : TArrayVariant;
  Query2: TQueryBuilder;
  SQL2: TQuery;
begin
  SQL1 := Query1.View('SELECT * FROM app_empresa');
  Dados1 := TArray.Create;
  Dados1.Clear;
  Dados1['id'] := SQL1.Query.FieldByName('id').Value;
  Dados1['tipo_pessoa'] := SQL1.Query.FieldByName('tipo_pessoa').Value;
  Dados1['tipo_documento'] := SQL1.Query.FieldByName('tipo_documento').Value;
  Dados1['tipo_estabelecimento'] := SQL1.Query.FieldByName('tipo_estabelecimento').Value;
  Dados1['regime_tributario'] := SQL1.Query.FieldByName('regime_tributario').Value;
  Dados1['documento_cadastral'] := SQL1.Query.FieldByName('documento_cadastral').Value;
  Dados1['inscricao_estadual'] := SQL1.Query.FieldByName('inscricao_estadual').Value;
  Dados1['inscricao_municipal'] := SQL1.Query.FieldByName('inscricao_municipal').Value;
  Dados1['razao_social'] := SQL1.Query.FieldByName('razao_social').Value;
  Dados1['nome_fantasia'] := SQL1.Query.FieldByName('nome_fantasia').Value;
  Dados1['cnae_principal_id'] := SQL1.Query.FieldByName('cnae_principal_id').Value;
  Dados1['arquivo_imagem_url'] := SQL1.Query.FieldByName('arquivo_imagem_url').Value;
  Dados1['arquivo_imagem_raw'] := SQL1.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados1['endereco'] := SQL1.Query.FieldByName('endereco').Value;
  Dados1['contato'] := SQL1.Query.FieldByName('contato').Value;
  Dados1['email'] := SQL1.Query.FieldByName('email').Value;
  Dados1['sincronizado'] := SQL1.Query.FieldByName('sincronizado').Value;
  Dados1['data_insercao'] := SQL1.Query.FieldByName('data_insercao').Value;
  Dados1['data_edicao'] := SQL1.Query.FieldByName('data_edicao').Value;
  Showmessage(Query1.Upsert('app_empresa', Dados1, False, False, False));
  Showmessage(Query1.Upsert('app_empresa', Dados1, False, False, True));

  SQL2 := Query2.View('SELECT * FROM app_empresa');
  Dados2 := TArrayVariant.Create;
  Dados2.Clear;
  Dados2['id'] := SQL2.Query.FieldByName('id').Value;
  Dados2['tipo_pessoa'] := SQL2.Query.FieldByName('tipo_pessoa').Value;
  Dados2['tipo_documento'] := SQL2.Query.FieldByName('tipo_documento').Value;
  Dados2['tipo_estabelecimento'] := SQL2.Query.FieldByName('tipo_estabelecimento').Value;
  Dados2['regime_tributario'] := SQL2.Query.FieldByName('regime_tributario').Value;
  Dados2['documento_cadastral'] := SQL2.Query.FieldByName('documento_cadastral').Value;
  Dados2['inscricao_estadual'] := SQL2.Query.FieldByName('inscricao_estadual').Value;
  Dados2['inscricao_municipal'] := SQL2.Query.FieldByName('inscricao_municipal').Value;
  Dados2['razao_social'] := SQL2.Query.FieldByName('razao_social').Value;
  Dados2['nome_fantasia'] := SQL2.Query.FieldByName('nome_fantasia').Value;
  Dados2['cnae_principal_id'] := SQL2.Query.FieldByName('cnae_principal_id').Value;
  Dados2['arquivo_imagem_url'] := SQL2.Query.FieldByName('arquivo_imagem_url').Value;
  Dados2['arquivo_imagem_raw'] := SQL2.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados2['endereco'] := SQL2.Query.FieldByName('endereco').Value;
  Dados2['contato'] := SQL2.Query.FieldByName('contato').Value;
  Dados2['email'] := SQL2.Query.FieldByName('email').Value;
  Dados2['sincronizado'] := SQL2.Query.FieldByName('sincronizado').Value;
  Dados2['data_insercao'] := SQL2.Query.FieldByName('data_insercao').Value;
  Dados2['data_edicao'] := SQL2.Query.FieldByName('data_edicao').Value;
  Showmessage(Query2.Upsert('app_empresa', Dados2, False, False, False));
  Showmessage(Query2.Upsert('app_empresa', Dados2, False, False, True));
end;

procedure TForm1.ButReplaceClick(Sender: TObject);
var
  Dados1, Filtros1 : TArray;
  Query1: TQueryBuilder;
  SQL1: TQuery;

  Dados2, Filtros2 : TArrayVariant;
  Query2: TQueryBuilder;
  SQL2: TQuery;
begin
  SQL1 := Query1.View('SELECT * FROM app_empresa');
  Dados1 := TArray.Create;
  Dados1.Clear;
  Dados1['id'] := SQL1.Query.FieldByName('id').Value;
  Dados1['tipo_pessoa'] := SQL1.Query.FieldByName('tipo_pessoa').Value;
  Dados1['tipo_documento'] := SQL1.Query.FieldByName('tipo_documento').Value;
  Dados1['tipo_estabelecimento'] := SQL1.Query.FieldByName('tipo_estabelecimento').Value;
  Dados1['regime_tributario'] := SQL1.Query.FieldByName('regime_tributario').Value;
  Dados1['documento_cadastral'] := SQL1.Query.FieldByName('documento_cadastral').Value;
  Dados1['inscricao_estadual'] := SQL1.Query.FieldByName('inscricao_estadual').Value;
  Dados1['inscricao_municipal'] := SQL1.Query.FieldByName('inscricao_municipal').Value;
  Dados1['razao_social'] := SQL1.Query.FieldByName('razao_social').Value;
  Dados1['nome_fantasia'] := SQL1.Query.FieldByName('nome_fantasia').Value;
  Dados1['cnae_principal_id'] := SQL1.Query.FieldByName('cnae_principal_id').Value;
  Dados1['arquivo_imagem_url'] := SQL1.Query.FieldByName('arquivo_imagem_url').Value;
  Dados1['arquivo_imagem_raw'] := SQL1.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados1['endereco'] := SQL1.Query.FieldByName('endereco').Value;
  Dados1['contato'] := SQL1.Query.FieldByName('contato').Value;
  Dados1['email'] := SQL1.Query.FieldByName('email').Value;
  Dados1['sincronizado'] := SQL1.Query.FieldByName('sincronizado').Value;
  Dados1['data_insercao'] := SQL1.Query.FieldByName('data_insercao').Value;
  Dados1['data_edicao'] := SQL1.Query.FieldByName('data_edicao').Value;
  Showmessage(Query1.Replace('app_empresa', Dados1));
  Filtros1 := TArray.Create;
  Filtros1.Clear;
  Filtros1['id ='] := '1';
  Showmessage(Query1.Replace('app_empresa', Dados1, Filtros1));

  SQL2 := Query2.View('SELECT * FROM app_empresa');
  Dados2 := TArrayVariant.Create;
  Dados2.Clear;
  Dados2['id'] := SQL2.Query.FieldByName('id').Value;
  Dados2['tipo_pessoa'] := SQL2.Query.FieldByName('tipo_pessoa').Value;
  Dados2['tipo_documento'] := SQL2.Query.FieldByName('tipo_documento').Value;
  Dados2['tipo_estabelecimento'] := SQL2.Query.FieldByName('tipo_estabelecimento').Value;
  Dados2['regime_tributario'] := SQL2.Query.FieldByName('regime_tributario').Value;
  Dados2['documento_cadastral'] := SQL2.Query.FieldByName('documento_cadastral').Value;
  Dados2['inscricao_estadual'] := SQL2.Query.FieldByName('inscricao_estadual').Value;
  Dados2['inscricao_municipal'] := SQL2.Query.FieldByName('inscricao_municipal').Value;
  Dados2['razao_social'] := SQL2.Query.FieldByName('razao_social').Value;
  Dados2['nome_fantasia'] := SQL2.Query.FieldByName('nome_fantasia').Value;
  Dados2['cnae_principal_id'] := SQL2.Query.FieldByName('cnae_principal_id').Value;
  Dados2['arquivo_imagem_url'] := SQL2.Query.FieldByName('arquivo_imagem_url').Value;
  Dados2['arquivo_imagem_raw'] := SQL2.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados2['endereco'] := SQL2.Query.FieldByName('endereco').Value;
  Dados2['contato'] := SQL2.Query.FieldByName('contato').Value;
  Dados2['email'] := SQL2.Query.FieldByName('email').Value;
  Dados2['sincronizado'] := SQL2.Query.FieldByName('sincronizado').Value;
  Dados2['data_insercao'] := SQL2.Query.FieldByName('data_insercao').Value;
  Dados2['data_edicao'] := SQL2.Query.FieldByName('data_edicao').Value;
  Showmessage(Query2.Replace('app_empresa', Dados2));
  Filtros2 := TArrayVariant.Create;
  Filtros2.Clear;
  Filtros2['id ='] := '1';
  Showmessage(Query2.Replace('app_empresa', Dados2, Filtros2));
end;

procedure TForm1.ButDeleteClick(Sender: TObject);
var
  Filtros1: TArray;
  Query1: TQueryBuilder;

  Filtros2 : TArrayVariant;
  Query2: TQueryBuilder;
begin
  //Delete Genérico
  Showmessage(Query1.Delete('app_empresa'));

  Filtros1 := TArray.Create;
  Filtros1.Add('id =', '1');
  Showmessage(Query1.Delete('app_empresa', Filtros1));

  Filtros2 := TArrayVariant.Create;
  Filtros2.Add('id =', '1');
  Showmessage(Query2.Delete('app_empresa', Filtros2));
end;

procedure TForm1.ButUpdateClick(Sender: TObject);
var
  Dados1, Filtros1: TArray;
  Query1: TQueryBuilder;
  SQL1: TQuery;

  Dados2, Filtros2 : TArrayVariant;
  Query2: TQueryBuilder;
  SQL2: TQuery;
begin
  SQL1 := Query1.View('SELECT * FROM app_empresa');
  Dados1 := TArray.Create;
  Dados1.Clear;
  Dados1['id'] := SQL1.Query.FieldByName('id').Value;
  Dados1['tipo_pessoa'] := SQL1.Query.FieldByName('tipo_pessoa').Value;
  Dados1['tipo_documento'] := SQL1.Query.FieldByName('tipo_documento').Value;
  Dados1['tipo_estabelecimento'] := SQL1.Query.FieldByName('tipo_estabelecimento').Value;
  Dados1['regime_tributario'] := SQL1.Query.FieldByName('regime_tributario').Value;
  Dados1['documento_cadastral'] := SQL1.Query.FieldByName('documento_cadastral').Value;
  Dados1['inscricao_estadual'] := SQL1.Query.FieldByName('inscricao_estadual').Value;
  Dados1['inscricao_municipal'] := SQL1.Query.FieldByName('inscricao_municipal').Value;
  Dados1['razao_social'] := SQL1.Query.FieldByName('razao_social').Value;
  Dados1['nome_fantasia'] := SQL1.Query.FieldByName('nome_fantasia').Value;
  Dados1['cnae_principal_id'] := SQL1.Query.FieldByName('cnae_principal_id').Value;
  Dados1['arquivo_imagem_url'] := SQL1.Query.FieldByName('arquivo_imagem_url').Value;
  Dados1['arquivo_imagem_raw'] := SQL1.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados1['endereco'] := SQL1.Query.FieldByName('endereco').Value;
  Dados1['contato'] := SQL1.Query.FieldByName('contato').Value;
  Dados1['email'] := SQL1.Query.FieldByName('email').Value;
  Dados1['sincronizado'] := SQL1.Query.FieldByName('sincronizado').Value;
  Dados1['data_insercao'] := SQL1.Query.FieldByName('data_insercao').Value;
  Dados1['data_edicao'] := SQL1.Query.FieldByName('data_edicao').Value;
  Showmessage(Query1.Update('app_empresa', Dados1));
  Filtros1 := TArray.Create;
  Filtros1.Clear;
  Filtros1['id ='] := '1';
  Showmessage(Query1.Update('app_empresa', Dados1, Filtros1));

  SQL2 := Query2.View('SELECT * FROM app_empresa');
  Dados2 := TArrayVariant.Create;
  Dados2.Clear;
  Dados2['id'] := SQL2.Query.FieldByName('id').Value;
  Dados2['tipo_pessoa'] := SQL2.Query.FieldByName('tipo_pessoa').Value;
  Dados2['tipo_documento'] := SQL2.Query.FieldByName('tipo_documento').Value;
  Dados2['tipo_estabelecimento'] := SQL2.Query.FieldByName('tipo_estabelecimento').Value;
  Dados2['regime_tributario'] := SQL2.Query.FieldByName('regime_tributario').Value;
  Dados2['documento_cadastral'] := SQL2.Query.FieldByName('documento_cadastral').Value;
  Dados2['inscricao_estadual'] := SQL2.Query.FieldByName('inscricao_estadual').Value;
  Dados2['inscricao_municipal'] := SQL2.Query.FieldByName('inscricao_municipal').Value;
  Dados2['razao_social'] := SQL2.Query.FieldByName('razao_social').Value;
  Dados2['nome_fantasia'] := SQL2.Query.FieldByName('nome_fantasia').Value;
  Dados2['cnae_principal_id'] := SQL2.Query.FieldByName('cnae_principal_id').Value;
  Dados2['arquivo_imagem_url'] := SQL2.Query.FieldByName('arquivo_imagem_url').Value;
  Dados2['arquivo_imagem_raw'] := SQL2.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados2['endereco'] := SQL2.Query.FieldByName('endereco').Value;
  Dados2['contato'] := SQL2.Query.FieldByName('contato').Value;
  Dados2['email'] := SQL2.Query.FieldByName('email').Value;
  Dados2['sincronizado'] := SQL2.Query.FieldByName('sincronizado').Value;
  Dados2['data_insercao'] := SQL2.Query.FieldByName('data_insercao').Value;
  Dados2['data_edicao'] := SQL2.Query.FieldByName('data_edicao').Value;
  Showmessage(Query2.Update('app_empresa', Dados2));
  Filtros2 := TArrayVariant.Create;
  Filtros2.Clear;
  Filtros2['id ='] := '1';
  Showmessage(Query2.Update('app_empresa', Dados2, Filtros2));
end;

procedure TForm1.ButInsertClick(Sender: TObject);
var
  Dados1 : TArray;
  Query1: TQueryBuilder;
  SQL1: TQuery;

  Dados2 : TArrayVariant;
  Query2: TQueryBuilder;
  SQL2: TQuery;
begin
  SQL1 := Query1.View('SELECT * FROM app_empresa');
  Dados1 := TArray.Create;
  Dados1.Clear;
  Dados1['id'] := SQL1.Query.FieldByName('id').Value;
  Dados1['tipo_pessoa'] := SQL1.Query.FieldByName('tipo_pessoa').Value;
  Dados1['tipo_documento'] := SQL1.Query.FieldByName('tipo_documento').Value;
  Dados1['tipo_estabelecimento'] := SQL1.Query.FieldByName('tipo_estabelecimento').Value;
  Dados1['regime_tributario'] := SQL1.Query.FieldByName('regime_tributario').Value;
  Dados1['documento_cadastral'] := SQL1.Query.FieldByName('documento_cadastral').Value;
  Dados1['inscricao_estadual'] := SQL1.Query.FieldByName('inscricao_estadual').Value;
  Dados1['inscricao_municipal'] := SQL1.Query.FieldByName('inscricao_municipal').Value;
  Dados1['razao_social'] := SQL1.Query.FieldByName('razao_social').Value;
  Dados1['nome_fantasia'] := SQL1.Query.FieldByName('nome_fantasia').Value;
  Dados1['cnae_principal_id'] := SQL1.Query.FieldByName('cnae_principal_id').Value;
  Dados1['arquivo_imagem_url'] := SQL1.Query.FieldByName('arquivo_imagem_url').Value;
  Dados1['arquivo_imagem_raw'] := SQL1.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados1['endereco'] := SQL1.Query.FieldByName('endereco').Value;
  Dados1['contato'] := SQL1.Query.FieldByName('contato').Value;
  Dados1['email'] := SQL1.Query.FieldByName('email').Value;
  Dados1['sincronizado'] := SQL1.Query.FieldByName('sincronizado').Value;
  Dados1['data_insercao'] := SQL1.Query.FieldByName('data_insercao').Value;
  Dados1['data_edicao'] := SQL1.Query.FieldByName('data_edicao').Value;
  Showmessage(Query1.Insert('app_empresa', Dados1));

  SQL2 := Query2.View('SELECT * FROM app_empresa');
  Dados2 := TArrayVariant.Create;
  Dados2.Clear;
  Dados2['id'] := SQL2.Query.FieldByName('id').Value;
  Dados2['tipo_pessoa'] := SQL2.Query.FieldByName('tipo_pessoa').Value;
  Dados2['tipo_documento'] := SQL2.Query.FieldByName('tipo_documento').Value;
  Dados2['tipo_estabelecimento'] := SQL2.Query.FieldByName('tipo_estabelecimento').Value;
  Dados2['regime_tributario'] := SQL2.Query.FieldByName('regime_tributario').Value;
  Dados2['documento_cadastral'] := SQL2.Query.FieldByName('documento_cadastral').Value;
  Dados2['inscricao_estadual'] := SQL2.Query.FieldByName('inscricao_estadual').Value;
  Dados2['inscricao_municipal'] := SQL2.Query.FieldByName('inscricao_municipal').Value;
  Dados2['razao_social'] := SQL2.Query.FieldByName('razao_social').Value;
  Dados2['nome_fantasia'] := SQL2.Query.FieldByName('nome_fantasia').Value;
  Dados2['cnae_principal_id'] := SQL2.Query.FieldByName('cnae_principal_id').Value;
  Dados2['arquivo_imagem_url'] := SQL2.Query.FieldByName('arquivo_imagem_url').Value;
  Dados2['arquivo_imagem_raw'] := SQL2.Query.FieldByName('arquivo_imagem_raw').Value;
  Dados2['endereco'] := SQL2.Query.FieldByName('endereco').Value;
  Dados2['contato'] := SQL2.Query.FieldByName('contato').Value;
  Dados2['email'] := SQL2.Query.FieldByName('email').Value;
  Dados2['sincronizado'] := SQL2.Query.FieldByName('sincronizado').Value;
  Dados2['data_insercao'] := SQL2.Query.FieldByName('data_insercao').Value;
  Dados2['data_edicao'] := SQL2.Query.FieldByName('data_edicao').Value;
  Showmessage(Query2.Insert('app_empresa', Dados2));
end;

procedure TForm1.FormCreate(Sender: TObject);
var
  DB: TConnection;
begin
  DB := TConnection.Create;
  DB.Driver := MYSQL;
  DB.Host := '127.0.0.1';
  DB.Port := 3306;
  DB.Database := 'simapp_dev_000';
  DB.Username := 'root';
  DB.Password := '';

  if not DB.GetInstance.Connection.Connected then
    DB.GetInstance.Connection.Connected := True;
end;

procedure TForm1.ButFirebirdClick(Sender: TObject);
var
  DBFirebird : TConnection;
  Query: TQueryBuilder;
  SQL: TQuery;
begin
  DBFirebird := TConnection.Create;
  //DBFirebird := TConnectionClass.GetInstance();
  try
    DBFirebird.Driver := FIREBIRD;
    DBFirebird.Host := '127.0.0.1';
    DBFirebird.Port := 3050;
    DBFirebird.Database :=
    {$IFDEF MSWINDOWS}
      ExtractFilePath(ParamStr(0)) + 'DB.FDB';
    {$ELSE}
      TPath.Combine(TPath.GetDocumentsPath, 'DB.FDB');
    {$ENDIF}
    DBFirebird.Username := 'SYSDBA';
    DBFirebird.Password := 'masterkey';

    if not DBFirebird.GetInstance.Connection.Connected then
      DBFirebird.GetInstance.Connection.Connected := True;

    SQL := TQuery.Create;
    try
      SQL := Query.View('SELECT * FROM "card_sector"');
      SQL.toGrid(GridFirebird);
      SQL.toComboBox(ComboBoxFirebird, 'id', 'nome');
      SQL.toListBox(ListBoxFirebird, 'id', 'nome');
      //ShowMessage(SQL.Query.RecordCount.ToString);
    finally
      SQL.Free;
    end;

  finally
    DBFirebird.Free;
  end;
end;

procedure TForm1.ButMySQLClick(Sender: TObject);
var
  DBMySQL : TConnection;
  Query: TQueryBuilder;
  SQL: TQuery;
begin
  DBMySQL := TConnection.Create;
  //DBMySQL := TConnectionClass.GetInstance();
  try
    DBMySQL.Driver := MYSQL;
    DBMySQL.Host := '127.0.0.1';
    DBMySQL.Port := 3306;
    DBMySQL.Database := 'simapp_loc';
    DBMySQL.Username := 'root';
    DBMySQL.Password := '';

    if not DBMySQL.GetInstance.Connection.Connected then
      DBMySQL.GetInstance.Connection.Connected := True;

    SQL := TQuery.Create;
    try
      SQL := Query.View('SELECT * FROM loc_estado');
      SQL.toGrid(GridMySQL);
      SQL.toComboBox(ComboBoxMySQL, 'id', 'nome');
      SQL.toComboBox(ListBoxMySQL, 'id', 'nome');
      //ShowMessage(SQL.Query.RecordCount.ToString);
    finally
      SQL.Free;
    end;

  finally
    DBMySQL.Free;
  end;
end;

procedure TForm1.ButPostgreSQLClick(Sender: TObject);
var
  DBPostgreSQL : TConnection;
  Query: TQueryBuilder;
  SQL: TQuery;
begin
  DBPostgreSQL := TConnection.Create;
  //DBPostgreSQL := TConnectionClass.GetInstance();
  try
    DBPostgreSQL.Driver := POSTGRES;
    DBPostgreSQL.Host := '127.0.0.1';
    DBPostgreSQL.Port := 5432;
    DBPostgreSQL.Database := 'postgres';
    DBPostgreSQL.Schema := 'demodev';
    DBPostgreSQL.Username := 'postgres';
    DBPostgreSQL.Password := 'masterkey';

    if not DBPostgreSQL.GetInstance.Connection.Connected then
      DBPostgreSQL.GetInstance.Connection.Connected := True;

    SQL := TQuery.Create;
    try
      SQL := Query.View('SELECT * FROM "estado"');
      SQL.toGrid(GridPostgreSQL);
      SQL.toComboBox(ComboBoxPostgreSQL, 'id', 'nome');
      SQL.toListBox(ListBoxPostgreSQL, 'id', 'nome');
      //ShowMessage(SQL.Query.RecordCount.ToString);
    finally
      SQL.Free;
    end;

  finally
    DBPostgreSQL.Free;
  end;
end;

end.
